CREATE DATABASE feedback_escolar;
USE feedback_escolar;

CREATE TABLE usuarios (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100),
    email VARCHAR(100) UNIQUE,
    senha VARCHAR(255),
    tipo ENUM('aluno', 'professor', 'admin') DEFAULT 'aluno'
);

CREATE TABLE feedbacks (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_usuario INT,
    texto TEXT,
    data_envio DATETIME DEFAULT CURRENT_TIMESTAMP,
    sentimento ENUM('positivo', 'negativo', 'neutro') DEFAULT 'neutro',
    FOREIGN KEY (id_usuario) REFERENCES usuarios(id)
);

CREATE TABLE respostas (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_feedback INT,
    id_professor INT,
    resposta TEXT,
    data_resposta DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (id_feedback) REFERENCES feedbacks(id),
    FOREIGN KEY (id_professor) REFERENCES usuarios(id)
